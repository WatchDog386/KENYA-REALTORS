<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" href="/realtor.jpg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" />
    <meta name="theme-color" content="#1a232e" />
    <title>Realtor | Luxury Real Estate</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600&display=swap" rel="stylesheet">

    <style>
      :root {
        --bg-slate: #1a232e;
        --bg-deep: #0f151c;
        /* Refined Gold Palette for High Clarity */
        --gold-light: #F9F1DC;
        --gold-1: #D4AF37; 
        --gold-2: #AA8C2C;
        --gold-3: #8A7D55;
        --white-soft: #fcfcfc;
        
        /* Animation Curves */
        --ease-draw: cubic-bezier(0.6, 0.05, 0.01, 0.99);
        --ease-elegant: cubic-bezier(0.25, 1, 0.5, 1);
      }

      body { 
        margin: 0; 
        background-color: var(--bg-slate); 
        font-family: 'Montserrat', sans-serif; 
        overflow: hidden; /* Locks scroll during animation */
      }

      /* --- MAIN CONTENT WRAPPER --- */
      #main-content {
        opacity: 0;
        transform: translateY(20px);
        transition: opacity 0.5s ease, transform 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
        will-change: opacity, transform;
      }
      
      #main-content.visible {
        opacity: 1;
        transform: translateY(0);
      }

      /* --- LOADER CONTAINER --- */
      .app-loader {
        position: fixed;
        inset: 0;
        z-index: 9999;
        display: flex;
        justify-content: center;
        align-items: center;
        width: 100%;
        height: 100dvh;
        background: #1a232e;
        will-change: opacity, transform, filter;
        transition: opacity 0.6s ease, visibility 0.6s ease;
        overflow: hidden;
      }

      /* Sweep Overlay */
      .app-loader::before {
        content: '';
        position: absolute;
        inset: 0;
        background: linear-gradient(90deg, transparent 0%, #f7f7f7 50%, transparent 100%);
        transform: translateX(120%);
        will-change: transform;
      }

      .app-loader.fade-exit::before {
        animation: sweepLeft 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
      }

      @keyframes sweepLeft {
        0% { transform: translateX(120%); }
        100% { transform: translateX(-120%); }
      }

      /* Fast & Sleek Exit */
      .app-loader.fade-exit {
        opacity: 0;
        visibility: hidden;
        pointer-events: none;
      }

      .loader-content {
        position: relative;
        z-index: 10;
        display: flex;
        flex-direction: column;
        align-items: center;
        width: 100%;
        transition: opacity 0.4s ease;
      }

      .loader-content.exit {
        opacity: 0;
      }

      /* --- HOUSE ICON --- */
      .icon-wrapper {
        /* Made Bigger as requested */
        width: 220px;
        height: 220px;
        position: relative;
        margin-bottom: 35px;
        /* Subtle float animation */
        animation: floatIcon 6s ease-in-out infinite;
        transition: opacity 0.4s ease;
      }

      .icon-wrapper.exit {
        opacity: 0;
      }

      @keyframes floatIcon {
        0%, 100% { transform: translateY(0); }
        50% { transform: translateY(-8px); }
      }

      .logo-svg { 
        width: 100%; 
        height: 100%; 
        overflow: visible; 
        filter: drop-shadow(0px 10px 20px rgba(0,0,0,0.5)); 
      }

      .structure-path {
        stroke: var(--gold-light); 
        stroke-width: 1.5; 
        stroke-linecap: round;
        stroke-linejoin: round;
        fill: transparent; 
        stroke-dasharray: 450; 
        stroke-dashoffset: 450; 
        opacity: 1;
      }

      .filled {
        transition: fill 0.8s ease-out, stroke-opacity 0.8s ease;
        fill: var(--fill-color) !important; 
        stroke-opacity: 0.3; /* Fade stroke out slightly when filled */
      }

      /* Gradients Definitions */
      .face-front { --fill-color: url(#grad-front); }
      .face-side  { --fill-color: url(#grad-side); }
      .face-dark  { --fill-color: url(#grad-dark); }
      .window     { --fill-color: #1a232e; }

      /* Shimmer Effect overlay on the SVG */
      .shimmer-layer {
        opacity: 0;
        transition: opacity 0.5s ease;
      }
      .shimmer-layer.active {
        opacity: 0.4;
        animation: shimmerMove 3s infinite linear;
      }

      /* --- TEXT SWAPPING --- */
      .text-container {
        position: relative;
        height: 80px; 
        width: 100%;
        display: flex;
        justify-content: center;
        align-items: center;
        perspective: 1000px;
        transition: opacity 0.4s ease;
      }

      .text-container.exit {
        opacity: 0;
      }

      .text-group {
        position: absolute;
        display: flex;
        flex-direction: column;
        align-items: center;
        opacity: 0;
        filter: blur(8px);
        transform: translateY(15px);
        transition: all 0.8s var(--ease-elegant);
        will-change: transform, opacity, filter;
      }

      /* States */
      .text-group.visible { opacity: 1; filter: blur(0); transform: translateY(0); }
      .text-group.exit { opacity: 0; filter: blur(4px); transform: translateY(-15px); }

      /* Typography */
      .text-real { font-size: 52px; color: var(--white-soft); font-weight: 200; letter-spacing: -1px; }
      .text-tor { 
        font-size: 52px; font-weight: 600; letter-spacing: -1px; 
        color: transparent;
        background: linear-gradient(135deg, var(--gold-light) 10%, var(--gold-1) 40%, var(--gold-2) 80%);
        -webkit-background-clip: text; background-clip: text;
        /* Text Shine */
        text-shadow: 0px 0px 30px rgba(212, 175, 55, 0.2);
      }

      .welcome-small { 
        font-size: 13px; 
        color: var(--gold-1); 
        letter-spacing: 4px; 
        text-transform: uppercase; 
        margin-bottom: 8px; 
        font-weight: 500;
      }
      .welcome-main { 
        font-size: 28px; 
        color: white; 
        font-weight: 400; 
        letter-spacing: 1px; 
      }

      @keyframes drawLine { to { stroke-dashoffset: 0; } }

      /* Responsive */
      @media (max-width: 600px) {
        .icon-wrapper { width: 180px; height: 180px; }
        .text-real, .text-tor { font-size: 40px; }
        .welcome-main { font-size: 24px; }
      }
    </style>
  </head>

  <body>
    <div class="app-loader" id="loader">
      <div class="loader-content">
        
        <div class="icon-wrapper">
          <svg class="logo-svg" viewBox="0 0 200 200">
            <defs>
              <linearGradient id="grad-front" x1="0%" y1="0%" x2="0%" y2="100%"><stop offset="0%" stop-color="#FFFFFF" /><stop offset="100%" stop-color="#E2D6B5" /></linearGradient>
              <linearGradient id="grad-side" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" stop-color="#D4AF37" /><stop offset="100%" stop-color="#8A7D55" /></linearGradient>
              <linearGradient id="grad-dark" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" stop-color="#998A5E" /><stop offset="100%" stop-color="#5C5035" /></linearGradient>
            </defs>
            
            <path id="p1" class="structure-path face-front" d="M110 90 V170 L160 150 V70 L110 90 Z" />
            <path id="p2" class="structure-path face-dark" d="M160 70 L180 80 V160 L160 150 Z" />
            <path id="p3" class="structure-path face-front" d="M30 150 V50 L80 20 V120 L30 150 Z" />
            <path id="p4" class="structure-path face-side" d="M80 20 L130 40 V140 L80 120 Z" />
            
            <g id="windows">
              <path class="structure-path window" d="M85 50 L100 56 V86 L85 80 Z" />
              <path class="structure-path window" d="M85 90 L100 96 V126 L85 120 Z" />
              <path class="structure-path window" d="M45 60 L55 54 V124 L45 130 Z" />
              <path class="structure-path window" d="M120 130 L140 122 V152 L120 160 Z" />
            </g>
          </svg>
        </div>

        <div class="text-container">
          
          <div class="text-group" id="text1">
            <div><span class="text-real">Real</span><span class="text-tor">tor</span></div>
          </div>

          <div class="text-group" id="text2">
            <span class="welcome-small">Welcome to</span>
            <span class="welcome-main">Kenya Realtors</span>
          </div>

        </div>

      </div>
    </div>

    <div id="main-content">
      <div id="root"></div> 
    </div>

    <script>
      (async function runIntro() {
        const paths = [ 
          document.getElementById('p3'), 
          document.getElementById('p4'), 
          document.getElementById('p1'), 
          document.getElementById('p2') 
        ];
        const windows = document.querySelectorAll('#windows .structure-path');
        const text1 = document.getElementById('text1');
        const text2 = document.getElementById('text2');
        const loader = document.getElementById('loader');
        const loaderContent = document.querySelector('.loader-content');
        const iconWrapper = document.querySelector('.icon-wrapper');
        const textContainer = document.querySelector('.text-container');
        const content = document.getElementById('main-content');
        
        // Timer Helper
        const wait = (ms) => new Promise(r => setTimeout(r, ms));

        /* 1. START DRAWING (0s) */
        let delay = 0;
        paths.forEach(p => {
          setTimeout(() => { p.style.animation = `drawLine 1.0s var(--ease-draw) forwards`; }, delay);
          delay += 150;
        });
        
        setTimeout(() => {
           windows.forEach(w => w.style.animation = `drawLine 0.8s var(--ease-draw) forwards`);
        }, 500);

        /* 2. FILL COLORS & SHOW "REALTOR" (1.2s) */
        await wait(1200);
        document.querySelectorAll('.structure-path').forEach(p => p.classList.add('filled'));
        text1.classList.add('visible');

        /* 3. SWAP TEXT (2.5s) */
        await wait(1600); 
        
        text1.classList.remove('visible');
        text1.classList.add('exit');
        
        await wait(500);
        text2.classList.add('visible');

        /* 4. HOLD & PREPARE FOR TRANSITION (5.0s) */
        await wait(2200); 
        
        /* 5. ADVANCED TRANSITION OUT - Blur and Scale */
        loaderContent.classList.add('exit');
        iconWrapper.classList.add('exit');
        textContainer.classList.add('exit');
        loader.classList.add('fade-exit');
        
        /* 6. REVEAL WEBSITE WITH SMOOTH UNBLUR */
        setTimeout(() => {
           content.classList.add('visible');
           document.body.style.overflow = 'auto';
        }, 100);

        /* 7. CLEANUP */
        setTimeout(() => { loader.style.display = 'none'; }, 1300);

      })();
    </script>

    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>